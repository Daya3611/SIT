<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login / Register â€” AgriPayChain</title>
    <meta name="description" content="Login or register on AgriPayChain to access loans, subsidies and more." />
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/animations.css" />
    <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/ScrollTrigger.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1/bundled/lenis.min.js" defer></script>
    <script src="js/main.js" defer></script>

    <style>
        body {
            background: var(--clr-bg-dark);
            min-height: 100vh;
        }

        .auth-wrap {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 100vh;
        }

        /* Left panel â€” brand side */
        .auth-brand {
            position: relative;
            background: var(--clr-primary-dark);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 48px;
            overflow: hidden;
        }

        .auth-brand::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 20% 30%, rgba(245, 166, 35, 0.15) 0%, transparent 60%),
                radial-gradient(circle at 80% 80%, rgba(45, 106, 79, 0.3) 0%, transparent 50%);
        }

        .auth-brand__logo {
            font-family: var(--font-heading);
            font-size: 1.6rem;
            font-weight: 800;
            color: #fff;
            position: relative;
            z-index: 1;
        }

        .auth-brand__logo span {
            color: var(--clr-accent);
        }

        .auth-brand__body {
            position: relative;
            z-index: 1;
        }

        .auth-brand__body h2 {
            color: #fff;
            font-size: clamp(1.8rem, 3vw, 2.6rem);
            margin-bottom: 20px;
        }

        .auth-brand__body p {
            color: rgba(240, 244, 240, 0.7);
            font-size: 1rem;
            max-width: 380px;
        }

        .auth-brand__stats {
            display: flex;
            gap: 40px;
            position: relative;
            z-index: 1;
        }

        .auth-brand__stat {}

        .auth-brand__stat strong {
            display: block;
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--clr-accent);
        }

        .auth-brand__stat span {
            font-size: 0.82rem;
            color: rgba(240, 244, 240, 0.6);
        }

        /* Right panel â€” form side */
        .auth-form-wrap {
            background: var(--clr-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 48px 32px;
        }

        .auth-form-box {
            width: 100%;
            max-width: 420px;
        }

        .auth-form-box h3 {
            font-size: 1.6rem;
            margin-bottom: 8px;
        }

        .auth-form-box>p {
            margin-bottom: 32px;
            font-size: 0.9rem;
        }

        /* Tabs */
        .auth-tabs {
            margin-bottom: 32px;
            max-width: 280px;
        }

        /* Form */
        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .otp-row {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }

        .otp-row .form-group {
            flex: 1;
        }

        .btn-send-otp {
            padding: 12px 16px;
            border-radius: var(--radius-md);
            background: var(--clr-primary);
            color: #fff;
            font-size: 0.82rem;
            font-weight: 600;
            white-space: nowrap;
            cursor: pointer;
            border: none;
            transition: background 0.2s;
        }

        .btn-send-otp:hover {
            background: var(--clr-primary-light);
        }

        .btn-send-otp:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .divider {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.8rem;
            color: var(--clr-text-muted);
        }

        .divider::before,
        .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--clr-border);
        }

        .btn-google {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 13px;
            border-radius: var(--radius-md);
            border: 1.5px solid var(--clr-border);
            background: #fff;
            color: var(--clr-text);
            font-size: 0.92rem;
            font-weight: 600;
            cursor: pointer;
            transition: box-shadow 0.2s;
        }

        .btn-google:hover {
            box-shadow: var(--shadow-md);
        }

        .auth-footer-note {
            text-align: center;
            font-size: 0.82rem;
            color: var(--clr-text-muted);
            margin-top: 24px;
        }

        .auth-footer-note a {
            color: var(--clr-primary);
            font-weight: 600;
        }

        /* Panel visibility */
        .auth-panel {
            display: none;
        }

        .auth-panel.active {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* error msg */
        .form-msg {
            font-size: 0.82rem;
            padding: 10px 14px;
            border-radius: var(--radius-sm);
            display: none;
        }

        .form-msg.error {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            display: block;
        }

        .form-msg.success {
            background: rgba(34, 197, 94, 0.1);
            color: #166534;
            display: block;
        }

        @media (max-width: 768px) {
            .auth-wrap {
                grid-template-columns: 1fr;
            }

            .auth-brand {
                display: none;
            }

            body {
                background: var(--clr-bg);
            }
        }
    </style>
</head>

<body>

    <div class="auth-wrap">

        <!-- â”€â”€ Left: Brand â”€â”€ -->
        <div class="auth-brand">
            <div class="auth-brand__logo">ðŸŒ¾ Agri<span>Pay</span>Chain</div>

            <div class="auth-brand__body" data-reveal="up">
                <h2>Your Farm's Financial Command Centre</h2>
                <p>Access curated loan schemes, government subsidies, real-time mandi prices, and AI-powered risk
                    analysis â€” all in one place, built for Indian farmers.</p>
            </div>

            <div class="auth-brand__stats" data-stagger>
                <div class="auth-brand__stat">
                    <strong>120+</strong>
                    <span>Loan Schemes</span>
                </div>
                <div class="auth-brand__stat">
                    <strong>340+</strong>
                    <span>Active Subsidies</span>
                </div>
                <div class="auth-brand__stat">
                    <strong>28</strong>
                    <span>States Covered</span>
                </div>
            </div>
        </div>

        <!-- â”€â”€ Right: Form â”€â”€ -->
        <div class="auth-form-wrap">
            <div class="auth-form-box page-enter">

                <h3 id="auth-heading">Welcome Back</h3>
                <p id="auth-subtext">Login to your AgriPayChain account.</p>

                <!-- Tabs -->
                <div class="auth-tabs tabs" id="auth-tab-bar" role="tablist">
                    <button class="tab active" id="tab-login" onclick="switchTab('login')">Login</button>
                    <button class="tab" id="tab-register" onclick="switchTab('register')">Register</button>
                </div>

                <div id="form-msg" class="form-msg"></div>

                <!-- â”€â”€ Login Panel â”€â”€ -->
                <div class="auth-panel active" id="panel-login">
                    <div class="form-group">
                        <label class="form-label" for="login-mobile">Mobile Number</label>
                        <div class="otp-row">
                            <div class="form-group" style="margin:0;flex:1">
                                <input class="form-control" type="tel" id="login-mobile"
                                    placeholder="10-digit mobile number" maxlength="10" />
                            </div>
                            <button class="btn-send-otp" id="btn-send-login-otp" onclick="sendOtp('login')">Send
                                OTP</button>
                        </div>
                    </div>

                    <div class="form-group" id="login-otp-group" style="display:none">
                        <label class="form-label" for="login-otp">Enter OTP</label>
                        <input class="form-control" type="text" id="login-otp" placeholder="6-digit OTP"
                            maxlength="6" />
                    </div>

                    <button class="btn btn--green" style="width:100%" onclick="handleLogin()">
                        Login &rarr;
                    </button>

                    <div class="divider">or continue with</div>
                    <button class="btn-google">
                        <svg width="18" height="18" viewBox="0 0 48 48">
                            <path fill="#EA4335"
                                d="M24 9.5c3.1 0 5.6 1.1 7.7 2.9l5.7-5.7C33.9 3.5 29.3 1.5 24 1.5 14.8 1.5 7 7.4 3.9 15.5l6.7 5.2C12.3 14 17.7 9.5 24 9.5z" />
                            <path fill="#4285F4"
                                d="M46.1 24.5c0-1.6-.1-3.1-.4-4.5H24v8.5h12.4c-.5 2.8-2.1 5.1-4.5 6.7l6.9 5.4C42.7 36.6 46.1 31 46.1 24.5z" />
                            <path fill="#FBBC05"
                                d="M10.6 28.3A14.5 14.5 0 0 1 9.5 24c0-1.5.3-2.9.7-4.3l-6.7-5.2A22.5 22.5 0 0 0 1.5 24c0 3.6.9 7 2.4 10l6.7-5.7z" />
                            <path fill="#34A853"
                                d="M24 46.5c5.3 0 9.8-1.7 13-4.7l-6.9-5.4c-1.7 1.2-4 2-6.1 2-6.3 0-11.7-4.5-13.4-10.1l-6.7 5.7C7 40.6 14.8 46.5 24 46.5z" />
                        </svg>
                        Continue with Google
                    </button>
                </div>

                <!-- â”€â”€ Register Panel â”€â”€ -->
                <div class="auth-panel" id="panel-register">
                    <div class="form-group">
                        <label class="form-label" for="reg-name">Full Name</label>
                        <input class="form-control" type="text" id="reg-name" placeholder="e.g. Ramesh Patil" />
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="reg-mobile">Mobile Number</label>
                        <div class="otp-row">
                            <div class="form-group" style="margin:0;flex:1">
                                <input class="form-control" type="tel" id="reg-mobile"
                                    placeholder="10-digit mobile number" maxlength="10" />
                            </div>
                            <button class="btn-send-otp" id="btn-send-reg-otp" onclick="sendOtp('register')">Send
                                OTP</button>
                        </div>
                    </div>

                    <div class="form-group" id="reg-otp-group" style="display:none">
                        <label class="form-label" for="reg-otp">Verify OTP</label>
                        <input class="form-control" type="text" id="reg-otp" placeholder="6-digit OTP" maxlength="6" />
                    </div>

                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
                        <div class="form-group">
                            <label class="form-label" for="reg-state">State</label>
                            <select class="form-control" id="reg-state">
                                <option value="">Select state</option>
                                <option>Maharashtra</option>
                                <option>Punjab</option>
                                <option>Uttar Pradesh</option>
                                <option>Rajasthan</option>
                                <option>Madhya Pradesh</option>
                                <option>Gujarat</option>
                                <option>Haryana</option>
                                <option>Karnataka</option>
                                <option>Andhra Pradesh</option>
                                <option>Tamil Nadu</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="reg-crop">Primary Crop</label>
                            <select class="form-control" id="reg-crop">
                                <option value="">Select crop</option>
                                <option>Wheat</option>
                                <option>Rice / Paddy</option>
                                <option>Cotton</option>
                                <option>Sugarcane</option>
                                <option>Soybean</option>
                                <option>Maize</option>
                                <option>Other</option>
                            </select>
                        </div>
                    </div>

                    <button class="btn btn--green" style="width:100%" onclick="handleRegister()">
                        Create Account &rarr;
                    </button>

                    <div class="divider">or</div>
                    <button class="btn-google">
                        <svg width="18" height="18" viewBox="0 0 48 48">
                            <path fill="#EA4335"
                                d="M24 9.5c3.1 0 5.6 1.1 7.7 2.9l5.7-5.7C33.9 3.5 29.3 1.5 24 1.5 14.8 1.5 7 7.4 3.9 15.5l6.7 5.2C12.3 14 17.7 9.5 24 9.5z" />
                            <path fill="#4285F4"
                                d="M46.1 24.5c0-1.6-.1-3.1-.4-4.5H24v8.5h12.4c-.5 2.8-2.1 5.1-4.5 6.7l6.9 5.4C42.7 36.6 46.1 31 46.1 24.5z" />
                            <path fill="#FBBC05"
                                d="M10.6 28.3A14.5 14.5 0 0 1 9.5 24c0-1.5.3-2.9.7-4.3l-6.7-5.2A22.5 22.5 0 0 0 1.5 24c0 3.6.9 7 2.4 10l6.7-5.7z" />
                            <path fill="#34A853"
                                d="M24 46.5c5.3 0 9.8-1.7 13-4.7l-6.9-5.4c-1.7 1.2-4 2-6.1 2-6.3 0-11.7-4.5-13.4-10.1l-6.7 5.7C7 40.6 14.8 46.5 24 46.5z" />
                        </svg>
                        Continue with Google
                    </button>
                </div>

                <p class="auth-footer-note" id="auth-switch-note">
                    Don't have an account? <a href="#" onclick="switchTab('register');return false">Register here</a>
                </p>

            </div>
        </div>
    </div>

    <script>
        function switchTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.auth-panel').forEach(p => p.classList.remove('active'));
            document.getElementById('form-msg').className = 'form-msg';

            if (tab === 'login') {
                document.getElementById('tab-login').classList.add('active');
                document.getElementById('panel-login').classList.add('active');
                document.getElementById('auth-heading').textContent = 'Welcome Back';
                document.getElementById('auth-subtext').textContent = 'Login to your AgriPayChain account.';
                document.getElementById('auth-switch-note').innerHTML =
                    "Don't have an account? <a href='#' onclick=\"switchTab('register');return false\">Register here</a>";
            } else {
                document.getElementById('tab-register').classList.add('active');
                document.getElementById('panel-register').classList.add('active');
                document.getElementById('auth-heading').textContent = 'Create Account';
                document.getElementById('auth-subtext').textContent = 'Join thousands of farmers on AgriPayChain.';
                document.getElementById('auth-switch-note').innerHTML =
                    "Already have an account? <a href='#' onclick=\"switchTab('login');return false\">Login here</a>";
            }
        }

        let otpTimer;
        function sendOtp(mode) {
            const mobileEl = document.getElementById(mode === 'login' ? 'login-mobile' : 'reg-mobile');
            const btnEl = document.getElementById(mode === 'login' ? 'btn-send-login-otp' : 'btn-send-reg-otp');
            const otpGroup = document.getElementById(mode === 'login' ? 'login-otp-group' : 'reg-otp-group');
            const msg = document.getElementById('form-msg');

            if (!/^[6-9]\d{9}$/.test(mobileEl.value)) {
                msg.className = 'form-msg error';
                msg.textContent = 'Please enter a valid 10-digit mobile number.';
                return;
            }
            msg.className = 'form-msg success';
            msg.textContent = 'OTP sent to ' + mobileEl.value + ' (demo mode)';
            otpGroup.style.display = 'block';

            // Cooldown
            let secs = 30;
            btnEl.disabled = true;
            btnEl.textContent = `Resend (${secs}s)`;
            otpTimer = setInterval(() => {
                secs--;
                btnEl.textContent = secs > 0 ? `Resend (${secs}s)` : 'Resend OTP';
                if (secs <= 0) { clearInterval(otpTimer); btnEl.disabled = false; }
            }, 1000);
        }

        function showMsg(type, text) {
            const el = document.getElementById('form-msg');
            el.className = 'form-msg ' + type;
            el.textContent = text;
        }

        function handleLogin() {
            const mobile = document.getElementById('login-mobile').value;
            const otp = document.getElementById('login-otp').value;
            if (!mobile) return showMsg('error', 'Please enter your mobile number.');
            if (!otp) return showMsg('error', 'Please enter the OTP.');
            if (otp.length !== 6) return showMsg('error', 'OTP must be 6 digits.');
            showMsg('success', 'Logged in successfully! Redirectingâ€¦');
            setTimeout(() => location.href = 'dashboard.html', 1200);
        }

        function handleRegister() {
            const name = document.getElementById('reg-name').value.trim();
            const mobile = document.getElementById('reg-mobile').value;
            const otp = document.getElementById('reg-otp').value;
            const state = document.getElementById('reg-state').value;
            const crop = document.getElementById('reg-crop').value;
            if (!name) return showMsg('error', 'Please enter your name.');
            if (!mobile) return showMsg('error', 'Please enter your mobile number.');
            if (!otp || otp.length !== 6) return showMsg('error', 'Please enter the 6-digit OTP.');
            if (!state) return showMsg('error', 'Please select your state.');
            showMsg('success', 'Account created! Redirecting to dashboardâ€¦');
            setTimeout(() => location.href = 'dashboard.html', 1200);
        }
    </script>

</body>

</html>